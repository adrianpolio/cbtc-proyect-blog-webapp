<app-header></app-header>
<div *ngIf="blog" class="blog-container">
<button class="back-btn" routerLink="/"> Volver a blogs</button>

  <p class="author">
    Por <strong>{{ blog.userName }}</strong> · {{ blog.blogDate | date:'medium' }}
  </p>
  <h1>{{ blog.title }}</h1>

  <p class="description">
    {{ blog.description }}
  </p>

  <hr>

  <h3>Comentarios</h3>

  <div *ngIf="blog.comments.length === 0">
    <p>No hay comentarios aún</p>
  </div>

  <div *ngFor="let comment of blog.comments" class="comment">
    <p>{{ comment.comment }}</p>
    <small>— {{ comment.userName }}</small>
  </div>

  <div *ngIf="isLoggedIn(); else loginPrompt" class="comment-form">
    <textarea [(ngModel)]="newComment" placeholder="Escribe un comentario"></textarea>
    <button (click)="addComment()">Publicar</button>
  </div>

  <ng-template #loginPrompt>
    <p>
      <a routerLink="/login">Inicia sesión para comentar</a>
    </p>
  </ng-template>
</div>
